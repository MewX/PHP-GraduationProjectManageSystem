# 基于Web的本科毕业设计管理系统的设计与实现
`xxxx大学·大学生创新创业训练计划项目`

负责人：MewX

## 如何使用本代码（以新浪云为例）
- 新建一个项目，采用php5.6作为服务端程序；
- 新建共享型数据库，并且执行`源代码目录下"gp.sql"脚本`中的创建素有表格；
- 数据库的配置信息在`源代码目录下"utils/shell.php"文件`中，该源代码头部有两段注释：`LOCAL`和`SAE`，2个注释部分的`各5行`只需要保证有一个部分的5行开启即可，分别是针对本地和SAE云端的部署。
- 在新浪云中新建代码版本，然后将所有的代码拷贝至版本库中即可；
- 在新浪云中创建一个`Storage服务的域名`，安全权限全部取消（DEMO中并没有编写access key加密），修改源代码`upload.php`中的SAE部分即可。

## 特色功能
- MySQL存储的密码采用`SHA-256散列`配`Base64压缩加密`，用户敏感操作时会要求输入密码；
- 代码中对于用户输入的部分采用了`_remove_sql_inject`处理，防止SQL注入；
- 移动适配，采用`jQuery Mobile`适配，适合各种设备，并且操作完全适合触屏操作；
- 防止异常访问，所有异常访问均跳回index.php的登录页面。

## 基本功能
- 指导教师进行毕业论文选题发布；
- 毕业生进行毕业论文选题，并自动生成毕业设计任务书；
- 毕业生在线提交开题报告及指导教师在线批阅开题报告；
- 毕业生与指导教师进行在线互动答疑并自动导出指导过程记表录；
- 毕业生在线提交毕业论文及指导教师在线批阅毕业论文；
- 指导教师、论文评阅人以及教学管理人员等能够以不同的角色及权限对毕业论文按照学校指标体系进行评价与管理，并自动生成指导教师评价表和评阅人评价表；
- 记录毕业生答辩时所回答的问题及回答情况，并导出毕业设计答辩提问录；

## 源代码说明

**css/...**

`jQuery Mobile`的css文件，实际页面中采用的是360CDN加速，并没有使用该文件。

**js/...**

`jQuery Mobile`的js文件，实际页面中采用的是360CDN加速，并没有使用该文件。

**utils/checkcode.php**

第三方的验证码生成类。

**utils/codeweb.php**

生成指定规格的验证码的代码。

**utils/login.php**

验证用户登录凭据的代码，如果验证失败会返回index.php。

**utils/shell.php**

用于连接数据库，文件定义的不同部署环境下需要定义的变量，修改即可方便移植。

**utils/sql-no-injection.php**

一个GPL协议下的第三方SQL防注入函数集。

**chgpwd.php**

修改密码的界面和业务逻辑。

**download.php**

下载中心的界面和业务逻辑。

**index.php**

登录界面、管理后台的界面和业务逻辑。

**logout.php**

用于执行登出指令。

**notify.php**

消息中心的界面和业务逻辑。

**problist.php**

选题列表的界面和业务逻辑。

**probpost.php**

发布选题的界面和业务逻辑。

**template.php**

通用的界面模板。

**upload.php**

上传中心的界面和业务逻辑。（此部分不完善，过于依赖SAE，界面可用，逻辑不可用）

## 开发环境
- Apache 2.4.10
- PHP 5.5.14
- MySQL 5.7.4 Community
- MySQL Workbench 6.3 Community
- Atom 0.187.0
